(function(t){function e(e){for(var a,i,s=e[0],l=e[1],c=e[2],p=0,g=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&g.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(g.length)g.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("64a9")},"0aa9":function(t,e,n){"use strict";n("4c08")},"0b77":function(t,e,n){"use strict";n("3939")},"2a54":function(t,e,n){t.exports=n.p+"img/nteu.fa11a08e.png"},"317b":function(t,e,n){"use strict";n("7864")},"357c":function(t,e,n){},3939:function(t,e,n){},"4c08":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"#CCC",flat:""}},[a("img",{staticClass:"mr-4",attrs:{src:n("a608"),id:"logo-mini"}}),a("router-link",{attrs:{to:"/"}},[a("v-btn",{attrs:{color:"primary"}},[t._v("Translate\n      ")])],1),a("router-link",{staticClass:"ml-1",attrs:{to:"/evaluate"}},[a("v-btn",{staticClass:"d-none",attrs:{color:"primary"}},[t._v("Evaluate\n      ")])],1),a("div",{staticClass:"flex-grow-1"}),a("router-link",{staticClass:"ml-1",attrs:{to:"/help"}},[a("v-btn",{attrs:{color:"primary"}},[t._v("Help\n      ")])],1)],1),a("v-content",[a("v-container",{attrs:{id:"main-container"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3",id:"left-col"}},["nteu"==t.gatewayType?a("nteu-logo"):t._e(),"pangeamt"==t.gatewayType?a("pangeamt-logo"):t._e()],1),a("v-col",{attrs:{cols:"12",md:"9"}},[a("router-view")],1)],1)],1)],1),a("v-footer",{attrs:{color:"#CCC",align:"center",justify:"center",height:"60px"}})],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-fade"}},[t.showLogo?a("div",[a("img",{attrs:{src:n("2a54"),id:"logo"}}),a("p",{attrs:{id:"logo-footer"}},[t._v("\n      Neural Translation "),a("br"),t._v("for Europe\n    ")])]):t._e()])},s=[],l={name:"nteu-logo",components:{},data:()=>({showLogo:!1}),methods:{init(){const t=this;this.showLogo=!0,setTimeout((function(){t.showLogo=!0}),2e3)}},mounted(){this.init()}},c=l,u=(n("317b"),n("2877")),p=Object(u["a"])(c,i,s,!1,null,null,null),g=p.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-fade"}},[t.showLogo?n("div",[t._v("\n        Logo Pangeanic\n    ")]):t._e()])},d=[],h={name:"nteu-logo",components:{},data:()=>({showLogo:!1}),methods:{init(){const t=this;this.showLogo=!0,setTimeout((function(){t.showLogo=!0}),2e3)}},mounted(){this.init()}},A=h,v=(n("0b77"),Object(u["a"])(A,f,d,!1,null,null,null)),m=v.exports,b={name:"App",components:{"pangeamt-logo":m,"nteu-logo":g},props:{gatewayType:String},data:()=>({srcLang:"",tgtLang:"",showLogo:!1}),methods:{init(){const t=this;this.showLogo=!0,setTimeout((function(){t.showLogo=!0}),2e3)}},mounted(){this.init()}},w=b,y=(n("034f"),n("6544")),_=n.n(y),L=n("7496"),C=n("40dc"),x=n("8336"),T=n("62ad"),S=n("a523"),D=n("a75b"),E=n("553a"),V=n("0fd9"),O=Object(u["a"])(w,r,o,!1,null,null,null),j=O.exports;_()(O,{VApp:L["a"],VAppBar:C["a"],VBtn:x["a"],VCol:T["a"],VContainer:S["a"],VContent:D["a"],VFooter:E["a"],VRow:V["a"]});var k=n("f309");a["a"].use(k["a"]);var R=new k["a"]({theme:{themes:{light:{primary:"#389AEF",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}}}),H=n("8c4f"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("engine-description",{attrs:{srcLang:t.srcLang,tgtLang:t.tgtLang,langDescription:t.langDescription}}),n("h1",{attrs:{id:"form-title"}},[t._v("Get started with translation!")]),n("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-textarea",{attrs:{outlined:"",name:"text-input",label:"Text to translate",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.textInput,callback:function(e){t.textInput=e},expression:"textInput"}}),t.showTranslation?n("v-textarea",{attrs:{outlined:"",name:"translation",label:"Translation"},model:{value:t.translation,callback:function(e){t.translation=e},expression:"translation"}}):t._e(),n("v-btn",{attrs:{color:"primary"},on:{click:this.translateHandler}},[t._v("Translate\n    ")]),t.loading?n("v-progress-circular",{staticClass:"ml-2",attrs:{size:30,width:3,color:"primary",indeterminate:""}}):t._e()],1)],1)},F=[],B=n("bc3a"),I=n.n(B),U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"engine-title"}},[n("div",{attrs:{id:"engine-h1"}},[t._v("\n    Translation engine\n    "),n("v-avatar",{staticClass:"lang",attrs:{color:"#CCC",id:"srcLang"}},[t._v("\n      "+t._s(t.srcLang.toUpperCase())+" \n    ")]),n("v-icon",{attrs:{color:"#000"}},[t._v("mdi-redo")]),n("v-avatar",{staticClass:"lang",attrs:{color:"#CCC",id:"tgtLang"}},[t._v("\n      "+t._s(t.tgtLang.toUpperCase())+" \n    ")])],1),n("p",{attrs:{id:"lang-description"}},[t._v(t._s(t.langDescription)+" ")])])},$=[],M={name:"EngineDescription",components:{},props:{srcLang:String,tgtLang:String,langDescription:String}},z=M,Q=(n("0aa9"),n("8212")),q=n("132d"),G=Object(u["a"])(z,U,$,!1,null,null,null),N=G.exports;function K(){var t="";return t=location.origin,t+"/api/1.0.0"}async function X(t){const e={texts:[t]};try{const t=K()+"/translate",n=await I.a.post(t,e,{headers:{"Content-Type":"application/json"}});if(200==n.status)return n.data.translations[0].translation;throw"Http error "}catch{throw"Http error "}}_()(G,{VAvatar:Q["a"],VIcon:q["a"]});var J={name:"TranslatePage",components:{"engine-description":N},props:{srcLang:String,tgtLang:String,langDescription:String},data:()=>({valid:!1,showTranslation:!1,loading:!1,textInput:"",translation:""}),methods:{async translateHandler(){if(this.$refs.form.validate(),this.valid){this.showResult=!1,this.loading=!0;try{const t=await X(this.textInput);this.showTranslation=!0,this.translation=t}catch(t){alert(t)}finally{this.loading=!1}}}}},Y=J,Z=(n("efa2"),n("4bd4")),W=n("490a"),tt=n("a844"),et=Object(u["a"])(Y,P,F,!1,null,null,null),nt=et.exports;_()(et,{VBtn:x["a"],VForm:Z["a"],VProgressCircular:W["a"],VTextarea:tt["a"]});var at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("engine-description",{attrs:{srcLang:t.srcLang,tgtLang:t.tgtLang,langDescription:t.langDescription}}),n("h1",{attrs:{id:"form-title"}},[t._v("Evaluate")]),t._m(0),n("h2",{attrs:{id:"form-subtitle"}},[t._v("Lets'go!")]),t.useDefaultCorpus?t._e():n("v-file-input",{attrs:{label:"Source file",outlined:"","prepend-icon":"mdi-clipboard-text"},on:{change:t.getSrcFileContent}}),t.useDefaultCorpus?t._e():n("v-file-input",{attrs:{label:"Reference file ",outlined:"","prepend-icon":"mdi-clipboard-text"},on:{change:t.getReferenceFileContent}}),n("v-checkbox",{attrs:{color:"primary",label:"Use build-in evaluation corpus"},model:{value:t.useDefaultCorpus,callback:function(e){t.useDefaultCorpus=e},expression:"useDefaultCorpus"}}),n("v-btn",{attrs:{color:"primary"},on:{click:this.evaluateHandler}},[t._v("Evaluate\n  ")]),t.loading?n("v-progress-circular",{staticClass:"ml-2",attrs:{size:30,width:3,color:"primary",indeterminate:""}}):t._e()],1)},rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"form-help"}},[n("p",[t._v("To evaluate translation quality, we will compute BLEU and TER scores. For that, an evaluation corpus is needed")]),n("ul",[n("li",[t._v("A source file with the segments to translate.")]),n("li",[t._v('A reference file with the "human translation" of each segments of the source file.')])]),n("p",[t._v('If you don\'t have an evaluation corpus, you can click the "Use build-in evaluation corpus" checkbox.')])])}];function ot(t){return t.replace(/^\s+|\s+$/g,"")}var it={name:"EvaluatePage",components:{"engine-description":N},props:{srcLang:String,tgtLang:String,langDescription:String},data:()=>({showResult:!1,loading:!1,src:"",reference:"",useDefaultCorpus:!1}),methods:{async evaluateHandler(){let t=[];if(!this.useDefaultCorpus){const e=ot(this.src).split(),n=ot(this.reference).split();if(e.length!=n.length)return void alert("Source file and reference file hasn't the same number of lines");for(let a=0;a<e.length;a++)t.push({src:e[a],tgt:n[a]})}this.showResult=!1,this.loading=!0;try{const e=K()+"/evaluate",n=await I.a.post(e,{tus:t},{headers:{"Content-Type":"application/json"}});if(200==n.status)return n.data[0];throw console.log("Error loading"+n.status),"Http error loading config"}catch{throw"Http "}finally{this.loading=!1}},getSrcFileContent(t){const e=new FileReader;e.onloadend=()=>{this.src=e.result},e.readAsText(t)},getReferenceFileContent(t){const e=new FileReader;e.onloadend=()=>{this.reference=e.result},e.readAsText(t)}}},st=it,lt=(n("f2f7"),n("ac7c")),ct=n("23a7"),ut=Object(u["a"])(st,at,rt,!1,null,null,null),pt=ut.exports;_()(ut,{VBtn:x["a"],VCheckbox:lt["a"],VFileInput:ct["a"],VProgressCircular:W["a"]});var gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("engine-description",{attrs:{srcLang:t.srcLang,tgtLang:t.tgtLang,langDescription:t.langDescription}}),n("div",{attrs:{id:"help-content"}},[n("div",{domProps:{innerHTML:t._s(t.compiledMarkdown)}})])],1)},ft=[],dt=n("0e54"),ht=n.n(dt),At=n("1487"),vt=n.n(At);n("eba2"),ht.a.setOptions({highlight:function(t,e){return""==e&&(e="bash"),vt.a.highlight(e,t).value}});var mt={name:"Help",components:{"engine-description":N},props:{srcLang:String,tgtLang:String,langDescription:String,help:String},data:function(){return{}},computed:{compiledMarkdown:function(){return ht()(this.help,{sanitize:!0})}}},bt=mt,wt=(n("aa12"),Object(u["a"])(bt,gt,ft,!1,null,null,null)),yt=wt.exports;async function _t(){try{const t=K()+"/initialize",e=await I.a.post(t);if(200==e.status)return e.data;throw"Http error loading config"}catch{throw"Http error loading config"}}async function Lt(){try{const t=await _t(),e=[{path:"/",component:nt,props:{srcLang:t.srcLang,tgtLang:t.tgtLang,langDescription:t.langDescription}},{path:"/help",component:yt,props:{srcLang:t.srcLang,tgtLang:t.tgtLang,langDescription:t.langDescription,help:t.help}},{path:"/evaluate",component:pt,props:{srcLang:t.srcLang,tgtLang:t.tgtLang,langDescription:t.langDescription}}],n=new H["a"]({routes:e});new a["a"]({vuetify:R,router:n,render:e=>e(j,{props:{gatewayType:t.gatewayType}})}).$mount("#app")}catch(t){alert(t)}}a["a"].config.productionTip=!1,a["a"].use(H["a"]),Lt()},"5d0f":function(t,e,n){},"64a9":function(t,e,n){},7864:function(t,e,n){},a608:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAh0lEQVR4nO3QMRGAMBREwRjBCSUqUIATFOEgBU4iI/RBwBV/b+b1N9vGuc1E6+6+R2oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUALg96TYAKQPpAfgep+ZaN3RRyQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAHwAVbeXzjT1XVPAAAAAElFTkSuQmCC"},aa12:function(t,e,n){"use strict";n("5d0f")},be2e:function(t,e,n){},efa2:function(t,e,n){"use strict";n("357c")},f2f7:function(t,e,n){"use strict";n("be2e")}});
//# sourceMappingURL=app.10fa32e1.js.map